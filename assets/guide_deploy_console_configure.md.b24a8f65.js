import{_ as s,o as a,c as n,V as l}from"./chunks/framework.4465fd78.js";const p="/assets/addBot.c3c3627e.png",o="/assets/online.f82e5764.png",e="/assets/mainBot.0344269a.png",g=JSON.parse('{"title":"配置实例","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deploy/console/configure.md","filePath":"guide/deploy/console/configure.md","lastUpdated":1723865901000}'),t={name:"guide/deploy/console/configure.md"},c=l('<h1 id="配置实例" tabindex="-1">配置实例 <a class="header-anchor" href="#配置实例" aria-label="Permalink to &quot;配置实例&quot;">​</a></h1><p>“实例”指的是机器人的账号，兔兔支持登录多个机器人账号同时使用，多个账号之间共享数据。</p><h2 id="添加实例" tabindex="-1">添加实例 <a class="header-anchor" href="#添加实例" aria-label="Permalink to &quot;添加实例&quot;">​</a></h2><p>在左侧导航选择“实例管理”，并点击“添加实例”</p><p><img src="'+p+`" alt=""></p><h2 id="qq群-qq频道机器人-官方" tabindex="-1">QQ群 &amp; QQ频道机器人（官方） <a class="header-anchor" href="#qq群-qq频道机器人-官方" aria-label="Permalink to &quot;QQ群 &amp; QQ频道机器人（官方）&quot;">​</a></h2><p>在 <a href="https://q.qq.com/#/" target="_blank" rel="noreferrer">QQ 开放平台</a> 查看并在实例配置填写你注册的机器人信息，表单字段就是对应内容。</p><div class="danger custom-block"><p class="custom-block-title">请注意<br></p><p>群机器人在不修改任何配置的情况下，<strong>无法在个人电脑（非公网）上部署</strong>，也就是只支持在<strong>云服务器</strong>上部署 ，如果您一定要在个人电脑上部署，目前提供了 <a href="https://www.baidu.com/s?wd=%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F" target="_blank" rel="noreferrer">内网穿透</a> 和 <a href="https://www.baidu.com/s?wd=%E8%85%BE%E8%AE%AF%E4%BA%91COS" target="_blank" rel="noreferrer">腾讯云COS</a> 的方式解决。</p></div><h3 id="内网穿透" tabindex="-1">内网穿透 <a class="header-anchor" href="#内网穿透" aria-label="Permalink to &quot;内网穿透&quot;">​</a></h3><p>实例配置资源服务地址为 <code>127.0.0.1</code>。端口随意，默认为 <code>8086</code>。使用内网穿透工具代理 <a href="http://127.0.0.1:8086" target="_blank" rel="noreferrer">http://127.0.0.1:8086</a> 后，修改配置文件 <code>config/penetration.yaml</code> 的 ports 参数，新增一行配置，字段为实例配置里的资源服务端口，值为内网穿透地址，重启兔兔生效。</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">8086</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">http://3913rc56vl17.vicp.fun:40229</span></span></code></pre></div><h3 id="腾讯云cos" tabindex="-1">腾讯云COS <a class="header-anchor" href="#腾讯云cos" aria-label="Permalink to &quot;腾讯云COS&quot;">​</a></h3><p>无需理会资源服务配置，修改配置文件 <code>config/cos.yaml</code> 如下（懂的都懂，不懂的建议折腾内网穿透），重启兔兔生效。</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">activate</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">domain</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://amiyabot-xxxxxxxxx.cos.ap-guangzhou.myqcloud.com</span></span>
<span class="line"><span style="color:#F07178;">folder</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/temp/group</span></span>
<span class="line"><span style="color:#F07178;">secret_id</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">AKIDwiHcxxxxxxxxxxCpGfqDZp2U</span></span>
<span class="line"><span style="color:#F07178;">secret_key</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Uky7BB8zxxxxxxxxigQzVt64oLgnn</span></span></code></pre></div><h2 id="kook机器人" tabindex="-1">KOOK机器人 <a class="header-anchor" href="#kook机器人" aria-label="Permalink to &quot;KOOK机器人&quot;">​</a></h2><p>在 <a href="https://developer.kookapp.cn/app/index" target="_blank" rel="noreferrer">KOOK 开发者平台</a> 查看并在实例配置填写你创建的机器人应用的 <code>Token</code> 即可。KOOK 机器人不需要 appid，但你仍然需要在配置里随便填写一个 appid，推荐使用 KOOK 应用的 <code>Client Id</code>。</p><h2 id="cq-http-qq群机器人" tabindex="-1">CQ-Http QQ群机器人 <a class="header-anchor" href="#cq-http-qq群机器人" aria-label="Permalink to &quot;CQ-Http QQ群机器人&quot;">​</a></h2><p><code>APP ID</code> 为登录在 go-cqhttp 的 <strong>QQ 号</strong>。<br><code>TOKEN</code> 填写配置的 access-token，没有配置则不需要填写。<br><code>CQ-Http 配置</code> 请准确填写你部署 go-cqhttp 时的信息。</p><p>需要配置 go-cqhttp 目录下的文件 <code>config.yml</code> 里数据类型为 array，修改完后重启 go-cqhttp 生效。</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#F07178;">message</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 上报数据类型</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 可选: string,array</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#F07178;">post-format</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">array</span></span></code></pre></div><p>access-token 可在 go-cqhttp 目录下的文件 <code>config.yml</code> 找到</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 默认中间件锚点</span></span>
<span class="line"><span style="color:#F07178;">default-middlewares</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">&amp;</span><span style="color:#FFCB6B;">default</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 访问密钥, 强烈推荐在公网的服务器设置</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#F07178;">access-token</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*******</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 事件过滤器文件目录</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">filter</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># API限速设置</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 该设置为全局生效</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 原 cqhttp 虽然启用了 rate_limit 后缀, 但是基本没插件适配</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 目前该限速设置为令牌桶算法, 请参考:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># https://baike.baidu.com/item/%E4%BB%A4%E7%89%8C%E6%A1%B6%E7%AE%97%E6%B3%95/6597000?fr=aladdin</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rate-limit</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">enabled</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># 是否启用限速</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">frequency</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;"># 令牌回复频率, 单位秒</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">bucket</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">     </span><span style="color:#676E95;font-style:italic;"># 令牌桶大小</span></span></code></pre></div><h2 id="mirai-api-http-qq群机器人" tabindex="-1">Mirai-api-http QQ群机器人 <a class="header-anchor" href="#mirai-api-http-qq群机器人" aria-label="Permalink to &quot;Mirai-api-http QQ群机器人&quot;">​</a></h2><p><code>APP ID</code> 为登录在 mirai-api-http 的 <strong>QQ 号</strong>。<br><code>TOKEN</code> 为 mirai-api-http 的 <strong>AuthKey</strong>。<br><code>Mirai-api-http 配置</code> 请准确填写你部署 mah 时的信息。</p><p>AuthKey 可在 mirai-console 目录下的文件 <code>config/net.mamoe.mirai-api-http/setting.yml</code> 找到</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#F07178;">adapters</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">http</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ws</span></span>
<span class="line"><span style="color:#F07178;">debug</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">enableVerify</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line highlighted"><span style="color:#F07178;">verifyKey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">*</span><span style="color:#BABED8;">****** </span><span style="color:#676E95;font-style:italic;"># 此处即是 AuthKey</span></span>
<span class="line"><span style="color:#F07178;">singleMode</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">cacheSize</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4096</span></span>
<span class="line"><span style="color:#F07178;">adapterSettings</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">http</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.0.0.0</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">8080</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">cors</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;"> * </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">ws</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.0.0.0</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">8060</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">reservedSyncId</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">-1</span></span></code></pre></div><h2 id="运行实例" tabindex="-1">运行实例 <a class="header-anchor" href="#运行实例" aria-label="Permalink to &quot;运行实例&quot;">​</a></h2><p>点击“保存并启动”运行实例，当实例状态为在线时，即启动成功。</p><img style="width:400px;" src="`+o+'" alt="image"><div class="tip custom-block"><p class="custom-block-title">温馨提示<br></p><p>实例的连接需要时间，通常只需要几秒钟不到。如果显示<strong>离线</strong>可以等待几秒再刷新页面。</p></div><h2 id="配置可控实例" tabindex="-1">配置可控实例 <a class="header-anchor" href="#配置可控实例" aria-label="Permalink to &quot;配置可控实例&quot;">​</a></h2><p>配置时打开选项 <code>可控实例</code>，并填写一个群号。可接收到该实例的一些相关通知。</p><img style="width:400px;" src="'+e+'" alt="image">',33),r=[c];function i(y,D,F,d,h,B){return a(),n("div",null,r)}const m=s(t,[["render",i]]);export{g as __pageData,m as default};
